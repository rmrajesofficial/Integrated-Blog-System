{"ast":null,"code":"var _jsxFileName = \"/Users/rajesmanna/Documents/Project/project_18196/frontend/src/Auth/Login.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { VStack, Input, Button, Heading, Text, Link, useToast, FormControl } from '@chakra-ui/react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const toast = useToast();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    username: '',\n    password: ''\n  });\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      console.log(formData);\n      const response = await axios.post('http://localhost:8000/api/login/', formData);\n      console.log(response.data);\n      localStorage.setItem(\"access\", response.data.access);\n      localStorage.setItem(\"refresh\", response.data.refresh);\n      localStorage.setItem(\"id\", response.data.id);\n      navigate(`/dashboard/${response.data.id}`);\n    } catch (error) {\n      console.log(error);\n      toast({\n        title: '',\n        description: 'Login Failed',\n        status: 'error',\n        variant: 'left-accent',\n        duration: 4000,\n        isClosable: true,\n        position: 'bottom'\n      });\n    }\n  };\n  useEffect(() => {\n    const userToken = localStorage.getItem('access');\n    const id = localStorage.getItem('id');\n    if (userToken || id) {\n      navigate(`/dashboard/${id}`);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(VStack, {\n    as: \"form\",\n    onSubmit: handleSubmit,\n    spacing: 4,\n    align: \"stretch\",\n    maxW: \"400px\",\n    mx: \"auto\",\n    p: 8,\n    borderWidth: 1,\n    borderRadius: \"lg\",\n    boxShadow: \"lg\",\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      as: \"h3\",\n      size: \"lg\",\n      mb: 4,\n      textAlign: 'center',\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        type: \"username\",\n        placeholder: \"Enter username\",\n        name: \"username\",\n        value: formData.username,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        type: \"password\",\n        placeholder: \"Enter password\",\n        name: \"password\",\n        value: formData.password,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      colorScheme: \"teal\",\n      variant: \"solid\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Text, {\n      fontSize: \"sm\",\n      textAlign: \"right\",\n      mt: 2,\n      children: [\"Not registered yet? \", /*#__PURE__*/_jsxDEV(Link, {\n        href: \"/signup\",\n        children: \"Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 37\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"//EYQTgMqZb06dpaDfZBSLma5Ss=\", false, function () {\n  return [useToast, useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useEffect","useState","VStack","Input","Button","Heading","Text","Link","useToast","FormControl","axios","useNavigate","jsxDEV","_jsxDEV","Login","_s","toast","navigate","formData","setFormData","username","password","handleChange","e","target","name","value","handleSubmit","preventDefault","console","log","response","post","data","localStorage","setItem","access","refresh","id","error","title","description","status","variant","duration","isClosable","position","userToken","getItem","as","onSubmit","spacing","align","maxW","mx","p","borderWidth","borderRadius","boxShadow","children","size","mb","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","required","colorScheme","fontSize","mt","href","_c","$RefreshReg$"],"sources":["/Users/rajesmanna/Documents/Project/project_18196/frontend/src/Auth/Login.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { VStack, Input, Button, Heading, Text, Link, useToast, FormControl } from '@chakra-ui/react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nconst Login = () => {\n    const toast = useToast();\n    const navigate = useNavigate();\n\n    const [formData, setFormData] = useState({\n        username: '',\n        password: ''\n    });\n\n    const handleChange = (e) => {\n        setFormData({\n            ...formData,\n            [e.target.name]: e.target.value,\n        });\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        try {\n            console.log(formData);\n            const response = await axios.post('http://localhost:8000/api/login/', formData);\n            console.log(response.data);\n            localStorage.setItem(\"access\", response.data.access)\n            localStorage.setItem(\"refresh\", response.data.refresh)\n            localStorage.setItem(\"id\", response.data.id)\n            navigate(`/dashboard/${response.data.id}`);\n        } catch (error) {\n            console.log(error);\n            toast({\n                title: '',\n                description: 'Login Failed',\n                status: 'error',\n                variant: 'left-accent',\n                duration: 4000,\n                isClosable: true,\n                position: 'bottom'\n            })\n        }\n    };\n\n    useEffect(() => {\n        const userToken = localStorage.getItem('access');\n        const id = localStorage.getItem('id');\n        if (userToken || id) {\n            navigate(`/dashboard/${id}`);\n        }\n    }, []);\n\n    return (\n        <VStack\n            as=\"form\"\n            onSubmit={handleSubmit}\n            spacing={4}\n            align=\"stretch\"\n            maxW=\"400px\"\n            mx=\"auto\"\n            p={8}\n            borderWidth={1}\n            borderRadius=\"lg\"\n            boxShadow=\"lg\"\n        >\n            <Heading as=\"h3\" size=\"lg\" mb={4} textAlign={'center'}>\n                Login\n            </Heading>\n            <FormControl>\n                <Input\n                    type=\"username\"\n                    placeholder=\"Enter username\"\n                    name=\"username\"\n                    value={formData.username}\n                    onChange={handleChange}\n                    required\n                />\n            </FormControl>\n            <FormControl>\n                <Input\n                    type=\"password\"\n                    placeholder=\"Enter password\"\n                    name=\"password\"\n                    value={formData.password}\n                    onChange={handleChange}\n                />\n            </FormControl>\n            <Button type=\"submit\" colorScheme=\"teal\" variant=\"solid\">\n                Login\n            </Button>\n            <Text fontSize=\"sm\" textAlign=\"right\" mt={2}>\n                Not registered yet? <Link href=\"/signup\">Sign up</Link>\n            </Text>\n        </VStack>\n\n\n    );\n};\n\nexport default Login;\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,MAAM,EAAEC,KAAK,EAAEC,MAAM,EAAEC,OAAO,EAAEC,IAAI,EAAEC,IAAI,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AACpG,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChB,MAAMC,KAAK,GAAGR,QAAQ,CAAC,CAAC;EACxB,MAAMS,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAE9B,MAAM,CAACO,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAC;IACrCmB,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE;EACd,CAAC,CAAC;EAEF,MAAMC,YAAY,GAAIC,CAAC,IAAK;IACxBJ,WAAW,CAAC;MACR,GAAGD,QAAQ;MACX,CAACK,CAAC,CAACC,MAAM,CAACC,IAAI,GAAGF,CAAC,CAACC,MAAM,CAACE;IAC9B,CAAC,CAAC;EACN,CAAC;EAED,MAAMC,YAAY,GAAG,MAAOJ,CAAC,IAAK;IAC9BA,CAAC,CAACK,cAAc,CAAC,CAAC;IAClB,IAAI;MACAC,OAAO,CAACC,GAAG,CAACZ,QAAQ,CAAC;MACrB,MAAMa,QAAQ,GAAG,MAAMrB,KAAK,CAACsB,IAAI,CAAC,kCAAkC,EAAEd,QAAQ,CAAC;MAC/EW,OAAO,CAACC,GAAG,CAACC,QAAQ,CAACE,IAAI,CAAC;MAC1BC,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEJ,QAAQ,CAACE,IAAI,CAACG,MAAM,CAAC;MACpDF,YAAY,CAACC,OAAO,CAAC,SAAS,EAAEJ,QAAQ,CAACE,IAAI,CAACI,OAAO,CAAC;MACtDH,YAAY,CAACC,OAAO,CAAC,IAAI,EAAEJ,QAAQ,CAACE,IAAI,CAACK,EAAE,CAAC;MAC5CrB,QAAQ,CAAE,cAAac,QAAQ,CAACE,IAAI,CAACK,EAAG,EAAC,CAAC;IAC9C,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZV,OAAO,CAACC,GAAG,CAACS,KAAK,CAAC;MAClBvB,KAAK,CAAC;QACFwB,KAAK,EAAE,EAAE;QACTC,WAAW,EAAE,cAAc;QAC3BC,MAAM,EAAE,OAAO;QACfC,OAAO,EAAE,aAAa;QACtBC,QAAQ,EAAE,IAAI;QACdC,UAAU,EAAE,IAAI;QAChBC,QAAQ,EAAE;MACd,CAAC,CAAC;IACN;EACJ,CAAC;EAED9C,SAAS,CAAC,MAAM;IACZ,MAAM+C,SAAS,GAAGb,YAAY,CAACc,OAAO,CAAC,QAAQ,CAAC;IAChD,MAAMV,EAAE,GAAGJ,YAAY,CAACc,OAAO,CAAC,IAAI,CAAC;IACrC,IAAID,SAAS,IAAIT,EAAE,EAAE;MACjBrB,QAAQ,CAAE,cAAaqB,EAAG,EAAC,CAAC;IAChC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIzB,OAAA,CAACX,MAAM;IACH+C,EAAE,EAAC,MAAM;IACTC,QAAQ,EAAEvB,YAAa;IACvBwB,OAAO,EAAE,CAAE;IACXC,KAAK,EAAC,SAAS;IACfC,IAAI,EAAC,OAAO;IACZC,EAAE,EAAC,MAAM;IACTC,CAAC,EAAE,CAAE;IACLC,WAAW,EAAE,CAAE;IACfC,YAAY,EAAC,IAAI;IACjBC,SAAS,EAAC,IAAI;IAAAC,QAAA,gBAEd9C,OAAA,CAACR,OAAO;MAAC4C,EAAE,EAAC,IAAI;MAACW,IAAI,EAAC,IAAI;MAACC,EAAE,EAAE,CAAE;MAACC,SAAS,EAAE,QAAS;MAAAH,QAAA,EAAC;IAEvD;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAS,CAAC,eACVrD,OAAA,CAACJ,WAAW;MAAAkD,QAAA,eACR9C,OAAA,CAACV,KAAK;QACFgE,IAAI,EAAC,UAAU;QACfC,WAAW,EAAC,gBAAgB;QAC5B3C,IAAI,EAAC,UAAU;QACfC,KAAK,EAAER,QAAQ,CAACE,QAAS;QACzBiD,QAAQ,EAAE/C,YAAa;QACvBgD,QAAQ;MAAA;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACX;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACO,CAAC,eACdrD,OAAA,CAACJ,WAAW;MAAAkD,QAAA,eACR9C,OAAA,CAACV,KAAK;QACFgE,IAAI,EAAC,UAAU;QACfC,WAAW,EAAC,gBAAgB;QAC5B3C,IAAI,EAAC,UAAU;QACfC,KAAK,EAAER,QAAQ,CAACG,QAAS;QACzBgD,QAAQ,EAAE/C;MAAa;QAAAyC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1B;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACO,CAAC,eACdrD,OAAA,CAACT,MAAM;MAAC+D,IAAI,EAAC,QAAQ;MAACI,WAAW,EAAC,MAAM;MAAC5B,OAAO,EAAC,OAAO;MAAAgB,QAAA,EAAC;IAEzD;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACTrD,OAAA,CAACP,IAAI;MAACkE,QAAQ,EAAC,IAAI;MAACV,SAAS,EAAC,OAAO;MAACW,EAAE,EAAE,CAAE;MAAAd,QAAA,GAAC,sBACrB,eAAA9C,OAAA,CAACN,IAAI;QAACmE,IAAI,EAAC,SAAS;QAAAf,QAAA,EAAC;MAAO;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAIjB,CAAC;AAACnD,EAAA,CA7FID,KAAK;EAAA,QACON,QAAQ,EACLG,WAAW;AAAA;AAAAgE,EAAA,GAF1B7D,KAAK;AA+FX,eAAeA,KAAK;AAAC,IAAA6D,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}